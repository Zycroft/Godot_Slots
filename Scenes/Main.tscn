[gd_scene load_steps=17 format=3 uid="uid://da6rsce4qix02"]

[ext_resource type="Script" uid="uid://bq60j16f3yk7c" path="res://Scripts/SlotMachine.gd" id="1_script"]
[ext_resource type="Texture2D" path="res://Assets/backgrounds/back1.jpeg" id="background_texture"]
[ext_resource type="Texture2D" path="res://Assets/marker_anim.png" id="marker_anim_texture"]
[ext_resource type="AudioStream" uid="uid://cu52qyur5i72n" path="res://Audio/SFX/reel_spin.mp3" id="audio_reel_spin"]
[ext_resource type="AudioStream" uid="uid://c481xrusrh116" path="res://Audio/SFX/reel_stop.mp3" id="audio_reel_stop"]
[ext_resource type="AudioStream" uid="uid://dkpeefnd7ukoq" path="res://Audio/SFX/slot_win.mp3" id="audio_slot_win"]
[ext_resource type="AudioStream" uid="uid://cedwsa11hax6q" path="res://Audio/SFX/spin_start.mp3" id="audio_spin_start"]
[ext_resource type="AudioStream" uid="uid://cryffx8pqwqp8" path="res://Audio/SFX/fire_crackle.mp3" id="audio_fire_crackle"]
[ext_resource type="Script" uid="uid://dvt2ud8jmmvsy" path="res://Scripts/CardDisplay.gd" id="card_display_script"]
[ext_resource type="Script" uid="uid://dtxbr1mkvnv6u" path="res://Scripts/CoinAnimation.gd" id="coin_script"]
[ext_resource type="Texture2D" uid="uid://ctwu6tvjayt5i" path="res://Assets/SingleImages/output/gold_coin_strip.png" id="gold_coin"]
[ext_resource type="Texture2D" uid="uid://dl4b16qqao50k" path="res://Assets/SingleImages/output/lever_spritesheet2_pixel.png" id="lever_spritesheet"]
[ext_resource type="Texture2D" uid="uid://bl2fn2spwi5u0" path="res://Assets/SingleImages/output/casino_marker_bg.png" id="marker_bg"]
[ext_resource type="Script" uid="uid://cdpxd4edb0q8y" path="res://Scripts/MarkerAnimation.gd" id="marker_script"]
[ext_resource type="Script" uid="uid://cr7cx3r0ou5pk" path="res://Scripts/StartScreen.gd" id="start_screen_script"]
[ext_resource type="Script" uid="uid://bcc626ewap66r" path="res://Scripts/StoreUI.gd" id="store_script"]
[ext_resource type="Texture2D" uid="uid://dqafaa71r1sp8" path="res://Assets/SingleImages/output/tray.png" id="tray_texture"]
[ext_resource type="Texture2D" path="res://Assets/fire_anim.png" id="flame_texture"]
[ext_resource type="Texture2D" path="res://Assets/reelbackground.png" id="reel_bg_texture"]

[node name="Main" type="Node2D"]

[node name="SceneBackground" type="TextureRect" parent="."]
offset_right = 1920.0
offset_bottom = 1080.0
texture = ExtResource("background_texture")
expand_mode = 1
stretch_mode = 6

[node name="SlotTray" type="TextureRect" parent="."]
offset_left = 649.0
offset_top = 906.0
offset_right = 1271.0
offset_bottom = 1080.0
texture = ExtResource("tray_texture")

[node name="GoldCoin" type="Sprite2D" parent="."]
position = Vector2(960, 850)
scale = Vector2(1.2, 1.2)
texture = ExtResource("gold_coin")
hframes = 144
script = ExtResource("coin_script")

[node name="SlotMachine" type="Node2D" parent="."]
position = Vector2(960, 540)
script = ExtResource("1_script")

[node name="ReelBackground" type="TextureRect" parent="SlotMachine"]
offset_left = -350.0
offset_top = -180.0
offset_right = 350.0
offset_bottom = 180.0
texture = ExtResource("reel_bg_texture")
expand_mode = 1
stretch_mode = 0

[node name="ReelContainer" type="HBoxContainer" parent="SlotMachine"]
offset_left = -320.0
offset_top = -150.0
offset_right = 320.0
offset_bottom = 150.0
theme_override_constants/separation = 30

[node name="FlameEffect" type="Sprite2D" parent="SlotMachine"]
visible = false
z_index = 10
position = Vector2(0, 380)
scale = Vector2(0.576, 0.576)
texture = ExtResource("flame_texture")
hframes = 8
vframes = 7

[node name="SpinButton" type="Button" parent="SlotMachine"]
visible = false
offset_left = -75.0
offset_top = 180.0
offset_right = 75.0
offset_bottom = 220.0
text = "SPIN"

[node name="Lever" type="Control" parent="SlotMachine"]
layout_mode = 3
anchors_preset = 0
offset_left = 201.0
offset_top = -120.0
offset_right = 261.0
offset_bottom = 80.0

[node name="LeverButton" type="Button" parent="SlotMachine/Lever"]
modulate = Color(1, 1, 1, 0)
layout_mode = 0
offset_left = 9.0
offset_top = 0.0
offset_right = 69.0
offset_bottom = 200.0

[node name="LeverSprite" type="Sprite2D" parent="SlotMachine/Lever"]
position = Vector2(29, 100)
scale = Vector2(1.5, 1.5)
texture = ExtResource("lever_spritesheet")
hframes = 4

[node name="CreditsLabel" type="Label" parent="SlotMachine"]
visible = false
offset_left = -100.0
offset_top = -180.0
offset_right = 100.0
offset_bottom = -150.0
text = "Credits: 100"
horizontal_alignment = 1

[node name="SFX" type="Node" parent="SlotMachine"]

[node name="SpinStart" type="AudioStreamPlayer" parent="SlotMachine/SFX"]
stream = ExtResource("audio_spin_start")

[node name="ReelSpin" type="AudioStreamPlayer" parent="SlotMachine/SFX"]
stream = ExtResource("audio_reel_spin")

[node name="ReelStop" type="AudioStreamPlayer" parent="SlotMachine/SFX"]
stream = ExtResource("audio_reel_stop")

[node name="SlotWin" type="AudioStreamPlayer" parent="SlotMachine/SFX"]
stream = ExtResource("audio_slot_win")

[node name="FireCrackle" type="AudioStreamPlayer" parent="SlotMachine/SFX"]
stream = ExtResource("audio_fire_crackle")

[node name="HUD" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="Marker" type="Control" parent="HUD"]
layout_mode = 3
anchors_preset = 0
offset_left = -30.0
offset_top = -45.0
offset_right = 292.0
offset_bottom = 281.0
mouse_filter = 2
script = ExtResource("marker_script")

[node name="Background" type="TextureRect" parent="HUD/Marker"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("marker_bg")
expand_mode = 1
stretch_mode = 4

[node name="AnimSprite" type="Sprite2D" parent="HUD/Marker"]
visible = false
position = Vector2(161, 163)
texture = ExtResource("marker_anim_texture")
hframes = 7
vframes = 7
frame = 0

[node name="AmountLabel" type="Label" parent="HUD/Marker"]
layout_mode = 1
offset_left = -60.0
offset_top = 165.0
offset_right = 380.0
offset_bottom = 215.0
mouse_filter = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 28
text = "$10,000"
horizontal_alignment = 1
vertical_alignment = 1

[node name="DueLabel" type="Label" parent="HUD/Marker"]
layout_mode = 1
offset_left = -110.0
offset_top = 209.0
offset_right = 330.0
offset_bottom = 250.0
mouse_filter = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 18
text = "24"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Store" type="Control" parent="HUD"]
layout_mode = 3
anchors_preset = 0
offset_left = 1720.0
offset_top = 200.0
offset_right = 1900.0
offset_bottom = 458.0
script = ExtResource("store_script")

[node name="CardDisplay" type="Control" parent="HUD"]
layout_mode = 3
anchors_preset = 0
offset_left = 20.0
offset_top = 300.0
offset_right = 180.0
offset_bottom = 900.0
script = ExtResource("card_display_script")

[node name="StartScreenLayer" type="CanvasLayer" parent="."]
layer = 10

[node name="StartScreen" type="Control" parent="StartScreenLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("start_screen_script")
